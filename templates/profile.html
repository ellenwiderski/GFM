{% extends "listbase.html" %}

{% block content %}


	{% if curruser == profileuser %}
		{% if listdict %}
			<h3>Here are your lists, {{ curruserdisplay }} </h3>
		{% else %}
			<h3>You have no lists, {{ curruserdisplay }} :( </h3>
			<h4>Why not make one?</h4>
		{% endif %}
	{% else %}
		{% if listdict %}
			<h3>Here are {{ profileuserdisplay }}'s lists </h3>
		{% else %}
			<h3>{{profileuserdisplay}} has no lists :(</h3>
		{% endif %}
	{% endif %}

	{% for list in listdict %}
		<ul class="list-group">
			<li class="list-group-item"><h4 class="list-group-item-heading">{{ list }}:</h4>
			{% if curruser == profileuser %}
			<span class="btn-group pull-right">
				<button type="button" class="btn btn-default btn-no-border btn-sm pull-right">
			  		<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
				</button>
			</span>
			{% endif %}
			</li>
			
			{% if listdict[list] %}
				{% for item in listdict[list] %}
					<li class="list-group-item">{{ item[0] }}
					{% if curruser == profileuser %}
					<span class="btn-group pull-right">
						<button type="button" class="btn btn-default btn-no-border btn-sm pull-right">
						  <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
						</button>
					</span>
					{% endif %}
					</li>

				{% endfor %}

			{% else %}
				<li class="list-group-item"> No items in {{ list }} :( </li>
			{% endif %}
		</ul>
	{% endfor %}


	{% if curruser == profileuser %}

    <footer class="add">
      <div class="container">

    	<form role="form" action='' method='post' name='newitem' class='form-inline'>
			{{ newlist.hidden_tag() }}

			<div class='form-group'>
					{{ newlist.name(class='form-control',id='newlist',placeholder="New list name") }}
			</div>
			
			<button type="submit" class='btn btn-default inline'><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button>

		</form>
	  </div>
	  {% if listdict %}
		  <div class="container">
			<form role="form" action='' method='post' name='newitem' class='form-inline'>
				{{ newitem.hidden_tag() }}
				<div class="form-group" >
					{{ newitem.name(class='form-control',id='newitem',placeholder="New item name") }}
				</div>

				<div class="form-group" >
				    {{newitem.forList(class='form-control')}} 
				</div>

				<button type="submit" class='btn btn-default btn-sm'><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button>

			</form>
		  </div>
	  {% endif %}
    </footer>

	{% endif %}

{% endblock %}